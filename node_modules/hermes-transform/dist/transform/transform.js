/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @format
 */
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.transform = transform;

var _transformAST = require("./transformAST");

var _parse = require("./parse");

var _print = require("./print");

async function transform(originalCode, visitors, prettierOptions = {}) {
  const parseResult = await (0, _parse.parse)(originalCode);
  const {
    ast,
    astWasMutated,
    mutatedCode
  } = (0, _transformAST.transformAST)(parseResult, visitors);

  if (!astWasMutated) {
    return originalCode;
  }

  return (0, _print.print)(ast, mutatedCode, prettierOptions);
}